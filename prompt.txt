I wrote the following code for my flask app, can you modify it to stroe the information in a database? 
The schema looks like this 
"""
-- Creating the 'users' table
CREATE TABLE users (
    user_id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    email VARCHAR(255) NOT NULL UNIQUE
);

-- Creating the 'companies' table
CREATE TABLE companies (
    company_id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT,
    company_name VARCHAR(255) NOT NULL,
    employee_number INT,
    FOREIGN KEY (user_id) REFERENCES users(user_id)
);
"""

company_profiles = []

@app.route("/company_profile", methods=['GET', 'POST'])
def company_profile():
    # Check if user is authenticated
    if not session.get("user"):
        return redirect(url_for("login"))
    if request.method == 'POST':
        # Process the form data
        company_name = request.form.get('company_name')
        employee_number = request.form.get('employee_number')
   

        # Add logic to save this data or process it as needed
        # Store profile data
        profile = {
            "id": len(company_profiles) + 1,
            "company_name": company_name,
            "employee_number": employee_number,
            # Add other fields...
        }
        company_profiles.append(profile)

        # Redirect to next page or acknowledge the submission
        return redirect(url_for('index'))  # Replace 'next_page' with your next route

    # Render the form page if method is GET
    return render_template('company_profile.html')